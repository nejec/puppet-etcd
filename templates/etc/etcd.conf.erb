########
### managed by puppet
#######
#
# etcd.conf
#
# You can configure etcd via environment variables from this file.
#
# See the documentation in /usr/share/doc/etcd/ for details.
#
# [member]
export ETCD_NAME=<%= scope['etcd::etcd_name'] %>
export ETCD_DATA_DIR="<%= scope['etcd::etcd_data_dir'] %>"
export ETCD_SNAPSHOT_COUNTER="<%= scope['etcd::etcd_snapshot_counter'] %>"
export ETCD_HEARTBEAT_INTERVAL="<%= scope['etcd::etcd_heartbeat_interval'] %>"
export ETCD_ELECTION_TIMEOUT="<%= scope['etcd::etcd_election_timeout'] %>"
export ETCD_LISTEN_PEER_URLS="<%= scope['etcd::etcd_listen_peer_urls'] %>"
export ETCD_LISTEN_CLIENT_URLS="<%= scope['etcd::etcd_listen_client_urls'] %>"
export ETCD_MAX_SNAPSHOTS="<%= scope['etcd::etcd_max_snapshots'] %>"
export ETCD_MAX_WALS="<%= scope['etcd::etcd_max_wals'] %>"
export ETCD_CORS="<%= scope['etcd::etcd_cors'] %>"
#
<% if scope['etcd::enable_cluster'] then %>
#[cluster]
export ETCD_INITIAL_ADVERTISE_PEER_URLS="<%= scope['etcd::etcd_initial_advertise_peer_urls'] %>"
# if you use different ETCD_NAME (e.g. test), set ETCD_INITIAL_CLUSTER value for this name, i.e. "test=http://..."
export ETCD_INITIAL_CLUSTER="<%= scope['etcd::etcd_initial_cluster'] %>"
export ETCD_INITIAL_CLUSTER_STATE="<%= scope['etcd::etcd_initial_cluster_state'] %>"
export ETCD_INITIAL_CLUSTER_TOKEN="<%= scope['etcd::etcd_initial_cluster_token'] %>"
export ETCD_ADVERTISE_CLIENT_URLS="<%= scope['etcd::etcd_advertise_client_urls'] %>"
export ETCD_DISCOVERY="<%= scope['etcd::etcd_discovery'] %>"
export ETCD_DISCOVERY_SRV="<%= scope['etcd::etcd_discovery_srv'] %>"
export ETCD_DISCOVERY_FALLBACK="<%= scope['etcd::etcd_discovery_fallback'] %>"
export ETCD_DISCOVERY_PROXY="<%= scope['etcd::etcd_discovery_proxy'] %>"
<% end -%>
#
#[proxy]
export ETCD_PROXY="<%= scope['etcd::etcd_proxy'] %>"
#
#[security]
export ETCD_CERT_FILE="<%= scope['etcd::etcd_cert_file'] %>"
export ETCD_KEY_FILE="<%= scope['etcd::etcd_key_file'] %>"
export ETCD_CLIENT_CERT_AUTH="<%= scope['etcd::etcd_client_cert_auth'] %>"
export ETCD_TRUSTED_CA_FILE="<%= scope['etcd::etcd_trusted_ca_file'] %>"
export ETCD_PEER_CERT_FILE="<%= scope['etcd::etcd_peer_cert_file'] %>"
export ETCD_PEER_KEY_FILE="<%= scope['etcd::etcd_peer_key_file'] %>"
export ETCD_PEER_CLIENT_CERT_AUTH="<%= scope['etcd::etcd_peer_client_cert_auth'] %>"
export ETCD_PEER_TRUSTED_CA_FILE="<%= scope['etcd::etcd_peer_trusted_ca_file'] %>"
#
#[logging]
export ETCD_DEBUG="<%= scope['etcd::etcd_debug'] %>"
# examples for -log-package-levels etcdserver=WARNING,security=DEBUG
export ETCD_LOG_PACKAGE_LEVELS="<%= scope['etcd::etcd_log_package_levels'] %>"
